/*!
 * Villa Mowe v0.6.0 (http://getvilla.org/)
 * Copyright 2013-2015 Noibe Developers
 * Licensed under MIT (https://github.com/noibe/villa/blob/master/LICENSE)
 */
var _emailService="eduardo@noibe.com",_emailServiceURL="http://letsmowe.com/wtal/api/wtal/",emailServiceCount=4,emailServiceClickCount=8;
function getPosition(e){for(var t=0,a=0;e;)t+=e.offsetLeft-e.scrollLeft+e.clientLeft,a+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:t,y:a}}function getScrollTop(){if("undefined"!=typeof pageYOffset)return pageYOffset;var e=document.body,t=document.documentElement;return t=t.clientHeight?t:e,t.scrollTop}function getPasteEvent(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),"function"==typeof e[t]?"paste":"input"}$("#prices-scroll").click(function(){$("html, body").animate({scrollTop:$("#prices").offset().top},"1200")}),$(".wow").click(function(){$(this).hasClass("show")?$(this).removeClass("show"):$(this).addClass("show")}),$(".navbar header .toggle").click(function(){$(this).closest(".navbar").find(".menu").toggleClass("show")}),window.onload=function(){$(".block").scrollList({beforePadding:65,startName:"block"}),$("#prices .slide .nav>li").distinct({content:$("#prices .slide .content .pricelist"),defaultClass:$("#prices").attr("class"),startName:"slide",target:$("#prices")});var e='<a class="action user-unselect cursor-pointer" data-toggle="contact-form">Assine Já</a><input type="text" class="contact-form" name="name" placeholder="Nome" autocomplete="off"/><input type="tel" class="contact-form" name="phone" placeholder="Telefone (apenas números)" autocomplete="off" maxlength="11"/><input type="submit" class="contact-form action send user-unselect cursor-pointer" value="Solicitar Contato!"/><span class="action sent">Obrigado! :D<br/>Entraremos em contato em breve!</span><span class="action not-sent">Ops! :(<br/>Houve algum problema! Tente novamente mais tarde!</span>';$(".pricelist .content > li").insertHTML(e),$(".pricelist .content > li [data-toggle=contact-form]").click(function(){$(".pricelist .content > .success").removeClass("success").find("[data-toggle=contact-form]").html("Assine Já"),$(".pricelist .content > .fail").removeClass("fail").find("[data-toggle=contact-form]").html("Assine Já");var e,t,a=$(this).parent();$(a).hasClass("active-form")&&($(a).removeClass("active-form"),$(a).find("[data-toggle=contact-form]").html("Assine Já"),e=!0),t=$(".pricelist .content > .active-form"),t.length&&($(t).removeClass("active-form"),$(t).find("[data-toggle=contact-form]").html("Assine Já")),e||($(a).addClass("active-form"),$(this).html("Voltar"),$(a).find("[name=name]").focus())}),$(".pricelist .content > li .send").click(function(){if(emailServiceClickCount>0){var e=$(this).parent(),t=$(e).find("[name=name]").val(),a=$(e).find("[name=phone]").val();if(t.length>0&&a.length>0){emailServiceClickCount--;var n=$(e).parent().parent(),i={name:t,phone:a,product:$(e).find(".title").html(),reference:$(n).attr("data-product-reference"),mail:_emailService};emailServiceCount>0?$.ajax({cache:!1,data:i,fail:function(){$(e).removeClass("active-form"),$(e).addClass("fail")},success:function(){$(e).removeClass("active-form"),$(e).addClass("success"),emailServiceCount--},url:_emailServiceURL}):($(e).removeClass("active-form"),$(e).addClass("fail"))}else alert("Campos vazios")}else $(e).removeClass("active-form"),$(e).addClass("fail")})},function(e){e.fn.distinct=function(t){var a=e.extend({content:"",defaultClass:"",startName:"",target:"body"},t);e(a.target).addClass("slide-1");new Array;e(this).click(function(){var t="";t=a.startName?a.startName+"-"+(e(this).index()+1):e(this).attr("id")+"-"+(e(this).index()+1),e(a.target).attr("class",a.defaultClass+" "+t),e(a.content[e(this).index()]).index()})}}(jQuery),function(e){e.fn.scrollList=function(t){var a,n=e.extend({beforePadding:0,startName:"",target:"body"},t),i={beforePadding:n.beforePadding,parent:n.target,startName:n.startName},r=e(this).getAddress(i),s=this;e(window).resize(function(){r=e(s).getAddress(i)}),e(window).scroll(function(){var t=e(this).getScrollActiveItem(r);t!=a&&(e(n.target).hasClass(t)||(e(n.target).hasClass(a)&&e(n.target).removeClass(a),e(n.target).addClass(t),a=t))})},e.fn.getScrollActiveItem=function(t){var a;for(i=0;i<t.length;i++)t[i].address<e(window).scrollTop()&&(a=t[i].name);return a?a:null},e.fn.getAddress=function(t){var a=e.extend({addAddressAttr:!0,beforePadding:0,parent:"body",startName:""},t),n=new Array;return a.name?void 0:(this.each(function(t){var i="";i=a.startName?a.startName+"-"+(t+1):e(this).attr("id"),n.push({name:i,address:this.offsetTop-a.beforePadding}),a.addAddressAttr&&e(this).attr("data-scroll-target",i)}),n)}}(jQuery),function(e){e.fn.insertHTML=function(e){for(var t=this.length;t--;)this[t].innerHTML+=e}}(jQuery),jQuery.fn.removeClassLike=function(e){var t=this.attr("class").split(" ").filter(function(t){return 0!==t.lastIndexOf(e,0)});return this.attr("class",t.join(" "))};var pasteEventName=getPasteEvent()+".mask",ua=navigator.userAgent,iPhone=/iphone/i.test(ua),android=/android/i.test(ua),caretTimeoutId;$.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},$.fn.extend({caret:function(e,t){var a;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(a=this.createTextRange(),a.collapse(!0),a.moveEnd("character",t),a.moveStart("character",e),a.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1e5),t=e+a.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(e,t){var a,n,i,r,s,o;return!e&&this.length>0?(a=$(this[0]),a.data($.mask.dataName)()):(t=$.extend({placeholder:$.mask.placeholder,completed:null},t),n=$.mask.definitions,i=[],r=o=e.length,s=null,$.each(e.split(""),function(e,t){"?"==t?(o--,r=e):n[t]?(i.push(new RegExp(n[t])),null===s&&(s=i.length-1)):i.push(null)}),this.trigger("unmask").each(function(){function a(e){for(;++e<o&&!i[e];);return e}function c(e){for(;--e>=0&&!i[e];);return e}function l(e,n){var r,c;if(!(0>e)){for(r=e,c=a(n);o>r;r++)if(i[r]){if(!(o>c&&i[r].test(g[c])))break;g[r]=g[c],g[c]=t.placeholder,c=a(c)}h(),v.caret(Math.max(s,e))}}function d(e){var n,r,s,c;for(n=e,r=t.placeholder;o>n;n++)if(i[n]){if(s=a(n),c=g[n],g[n]=r,!(o>s&&i[s].test(c)))break;r=c}}function f(e){var t,n,i,r=e.which;8===r||46===r||iPhone&&127===r?(t=v.caret(),n=t.begin,i=t.end,i-n===0&&(n=46!==r?c(n):i=a(n-1),i=46===r?a(i):i),m(n,i),l(n,i-1),e.preventDefault()):27==r&&(v.val(b),v.caret(0,p()),e.preventDefault())}function u(e){var n,r,s,c=e.which,f=v.caret();e.ctrlKey||e.altKey||e.metaKey||32>c||c&&(f.end-f.begin!==0&&(m(f.begin,f.end),l(f.begin,f.end-1)),n=a(f.begin-1),o>n&&(r=String.fromCharCode(c),i[n].test(r)&&(d(n),g[n]=r,h(),s=a(n),android?setTimeout($.proxy($.fn.caret,v,s),0):v.caret(s),t.completed&&s>=o&&t.completed.call(v))),e.preventDefault())}function m(e,a){var n;for(n=e;a>n&&o>n;n++)i[n]&&(g[n]=t.placeholder)}function h(){v.val(g.join(""))}function p(e){var a,n,c=v.val(),l=-1;for(a=0,pos=0;o>a;a++)if(i[a]){for(g[a]=t.placeholder;pos++<c.length;)if(n=c.charAt(pos-1),i[a].test(n)){g[a]=n,l=a;break}if(pos>c.length)break}else g[a]===c.charAt(pos)&&a!==r&&(pos++,l=a);return e?h():r>l+1?(v.val(""),m(0,o)):(h(),v.val(v.val().substring(0,l+1))),r?a:s}var v=$(this),g=$.map(e.split(""),function(e){return"?"!=e?n[e]?t.placeholder:e:void 0}),b=v.val();v.data($.mask.dataName,function(){return $.map(g,function(e,a){return i[a]&&e!=t.placeholder?e:null}).join("")}),v.attr("readonly")||v.one("unmask",function(){v.unbind(".mask").removeData($.mask.dataName)}).bind("focus.mask",function(){clearTimeout(caretTimeoutId);var t;b=v.val(),t=p(),caretTimeoutId=setTimeout(function(){h(),t==e.length?v.caret(0,t):v.caret(t)},10)}).bind("blur.mask",function(){p(),v.val()!=b&&v.change()}).bind("keydown.mask",f).bind("keypress.mask",u).bind(pasteEventName,function(){setTimeout(function(){var e=p(!0);v.caret(e),t.completed&&e==v.val().length&&t.completed.call(v)},0)}),p()}))}});